




<!DOCTYPE html>
<html lang="zh">
    <style>
        @font-face {
            font-family: 'icomoon';
            src: url('/en/fonts/icomoon.eot?zb38vt');
            src: url('/en/fonts/icomoon.eot?zb38vt#iefix') format('embedded-opentype'),
                 url('/en/fonts/icomoon.ttf?zb38vt') format('truetype'),
                 url('/en/fonts/icomoon.woff?zb38vt') format('woff'),
                 url('/en/fonts/icomoon.svg?zb38vt#icomoon') format('svg');
            font-weight: normal;
            font-style: normal;
            font-display: block;
          }
    </style><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">

<meta name="keywords" content="[Kubernetes, {ks_product}, installation, preparation, high availability]">



<meta name="description" content="Describes how to configure high availability for KubeSphere.">

<link rel="icon" href="/en/images/favicon.ico" type="image/x-icon">

<title>Configure KubeSphere High Availability - KubeSphere Enterprise</title>
<link href="/en/css/theme.css" rel="stylesheet">
<link href="/en/css/bulma.css" rel="stylesheet">
<link href="/en/css/bulma-tooltip.min.css" rel="stylesheet">
<link href="/en/css/atom-one-light.css" rel="stylesheet" />
<link href="/en/css/magnific-popup.css" rel="stylesheet" />


<link href="/en/scss/main.min.56d66c39133dd11211ab0ba0a1e1290f5815d8e5ea2b67ca9a2fdabd2a1c2a9b.css" rel="stylesheet" integrity="sha256-VtZsORM90RIRqwugoeEpD1gV2OXqK2fKmi/avSocKps=">


<script src="/en/js/jquery-2.2.4.js"></script>
<body
        class="root   "
        style=""
        ><header>
  <nav class="navbar">
    
      <a href="/en" class="navbar-logo-wrapper">
        <img class="navbar-logo" src="/en/images/qingcloud-logo.svg" />
        <div class="navbar-split navbar-left-split">|</div>
        <div class="navbar-logo-text">KubeSphere Enterprise</div>
      </a>
    
    <div class="navbar-nav">
      
        <div
          class="navbar-nav-item navbar-nav-version ">
          
          <div class="dropdown-trigger">
            <span class="project-version">
              v4.2.0
            </span>
            
          </div>
          
        </div>
      
    </div>
    <div class="search navbar-search">
      <div class="control has-icons-left has-icons-right docs-search-input">
        <span class="icon is-left">
          <img src="/en/images/icons/magnifier_duotone.svg" />
        </span>
        <input
          class="input"
          name="q"
          type="input"
          placeholder="请输入关键字快速获取帮助"
          autocomplete="off"
        />
        <span class="icon is-right"> </span>
      </div>
      <img class="clear-search-input" src="/en/images/icons/close_duotone.svg" />
    </div>
    
      
      
        
          <a class="navbar-item-right btn primary-btn navbar-btn "
            target="_blank"
            data-url="https://docs.kubesphere.com.cn/"
            data-text="中文文档"
            href="https://docs.kubesphere.com.cn/">
            中文文档
          </a>
        
      
    
  </nav>
</header><script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>

<script id="search-result-item-template" type="text/x-js-template">
  <div class="search-result-content-item">
    <div class="search-result-content-item-title">
      <a href="${href}">${title}</a>
    </div>
    <div class="search-result-content-item-content">
      ${content}
    </div>
    <div class="search-result-content-item-ref">
      <ul class="content-breadcrumb">
      </ul>
    </div>
  </div>
</div>
</script>

<script id="search-breadcrumb-template" type="text/x-js-template">
  <li class="icon-slash_fill">
    <a href="${href}">${title}</a>
  </li>
</script>

<script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>
<script id="search-result-page-template" type="text/x-js-template">
  <nav class="search-result-pagination pagination is-centered">
    <a class="pagination-previous icon-chevron_left_fill"></a>
    <a class="pagination-next icon-chevron_right_fill"></a>
    <ul class="pagination-list">
    </ul>
  </nav>
</script>
<div class="container">

  


  
    
  


<aside class="sidebar-wrapper">
  <div class="sidebar-drag"></div>
  <div class="sidebar">
    
      <div class="sidebar-title" >
        <a href="/en/v4.2.0/">
          
            KubeSphere Enterprise
        </a>
        
      </div>
      
    
    <nav class="sidebar-menu" id="sidebar-menu-scroll-container">
      
        
        <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item active ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/" >Installation Guide</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_up_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/" >Preparation</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/01-supported-k8s/">Environment Requirements</a>
          </li>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a  >Configure High Availability</a>
            
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/02-configure-high-availability/02-configure-k8s-high-availability/">Configure Kubernetes High Availability</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/04-configure-external-persistent-storage/" >Configure External Persistent Storage</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/04-configure-external-persistent-storage/01-configure-storage-devices-on-cloud/">Configure Cloud Storage Devices</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/04-configure-external-persistent-storage/04-configure-neosan-csi/">Configure NeonSAN CSI</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/04-configure-external-persistent-storage/05-configure-nfs/">Configure NFS</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/01-preparations/04-configure-external-persistent-storage/07-configure-opensource-storage/">Configure Open Source Storage Systems</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item active ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/" >Install KubeSphere Enterprise</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_up_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/01-online-install-kubernetes-and-kubesphere/">Online Installation of Kubernetes and KubeSphere Enterprise</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/03-activate-kse/">Activate KubeSphere Enterprise</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/04-configure-ks-high-availability/">Configure KubeSphere High Availability</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/05-appendix/">Appendix: Advanced Configuration of KubeSphere Core</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/03-upgrade-kubesphere/" >Upgrade KubeSphere Enterprise</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/03-upgrade-kubesphere/03-online-upgrade-kubephere-from-4.1.x/">Online Upgrade from v4.1.x to v4.2.0</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/03-upgrade-kubesphere/04-upgrade-kubephere-from-v4.1/">Offline Upgrade from v4.1.x to v4.2.0</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/03-upgrade-kubesphere/05-appendix-ks-core/">Appendix 1: ks-core Helm Chart Upgrade Parameters</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/04-uninstall-kubesphere/" >Uninstall KubeSphere Enterprise</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/04-uninstall-kubesphere/01-uninstall-kubesphere-only/">Uninstall KubeSphere Enterprise Only</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/04-uninstall-kubesphere/02-uninstall-kubernetes-and-kubesphere/">Uninstall Kubernetes and KubeSphere Enterprise</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/en/v4.2.0/03-installation-and-upgrade/05-add-and-delete-cluster-nodes/" >Add and Remove Cluster Nodes</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/05-add-and-delete-cluster-nodes/01-add-cluster-nodes/">Add Cluster Nodes</a>
          </li>
        
      
    
  
    
      
      
      
      
          <li class="sidebar-item">
            <a href="/en/v4.2.0/03-installation-and-upgrade/05-add-and-delete-cluster-nodes/02-delete-cluster-nodes/">Remove Cluster Nodes</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
    
  
</ul>
      
    </nav>

  </div>
</aside>
<div class="content-card-wrapper">
  <div class="content-card">
    <div class="content-wrapper"><ul class="content-breadcrumb">
      <li class="icon-slash_fill"><a href="/en/v4.2.0" data-url="/en/v4.2.0">KubeSphere Enterprise</a></li>
      <li class="icon-slash_fill"><a href="/en/v4.2.0/03-installation-and-upgrade" data-url="/en/v4.2.0/03-installation-and-upgrade">Installation Guide</a></li>
      <li class="icon-slash_fill"><a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere" data-url="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere">Install KubeSphere Enterprise</a></li>
      <li class="icon-slash_fill"><a href="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/04-configure-ks-high-availability" data-url="/en/v4.2.0/03-installation-and-upgrade/02-install-kubesphere/04-configure-ks-high-availability">Configure KubeSphere High Availability</a></li></ul><div class="post-wrapper"><div class="post">
  <h1 class="post-title">
    Configure KubeSphere High Availability</h1>
  <div class="post-info">
    <div class="post-date">
      Time updated：2025-08-28 08:29:09
    </div>
    
    
    
    
    
    
      
    
    
  </div><div class="post-menu">
  <div class="post-menu-title">Page Catalog</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_1_high_availability_architecture_overview">1. High Availability Architecture Overview</a></li>
    <li><a href="#_2_version_compatibility">2. Version Compatibility</a></li>
    <li><a href="#_3_kubesphere_ha_configuration">3. KubeSphere HA Configuration</a>
      <ul>
        <li><a href="#_3_1_enable_ha_mode">3.1 Enable HA Mode</a></li>
      </ul>
    </li>
    <li><a href="#_4_redis_configuration">4. Redis Configuration</a>
      <ul>
        <li><a href="#_4_1_redis_standalone_mode">4.1 Redis Standalone Mode</a></li>
        <li><a href="#_4_2_redis_ha_mode">4.2 Redis HA Mode</a></li>
        <li><a href="#_4_3_redis_ha_advanced_configuration">4.3 Redis HA Advanced Configuration</a></li>
      </ul>
    </li>
    <li><a href="#_5_ha_deployment">5. HA Deployment</a></li>
    <li><a href="#_6_configuration_notes">6. Configuration Notes</a>
      <ul>
        <li><a href="#_6_1_redis_standalone_mode">6.1 Redis Standalone Mode</a></li>
        <li><a href="#_6_2_redis_ha_mode">6.2 Redis HA Mode</a></li>
      </ul>
    </li>
    <li><a href="#_7_optional_configurations">7. Optional Configurations</a>
      <ul>
        <li><a href="#_jwt_signing_key_configuration">JWT Signing Key Configuration</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div><div class="post-content">
    
      
      
<div class="paragraph">
<p>This section explains how to configure high availability for KubeSphere.</p>
</div>
<table class="tableblock frame-all grid-all stretch admon attention">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>KubeSphere high availability relies on high availability of Kubernetes control plane nodes, so ensure Kubernetes is deployed in HA mode first.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect1">
<h2 id="_1_high_availability_architecture_overview">1. High Availability Architecture Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KubeSphere supports high availability deployment, which can be enabled via <code>ha.enabled</code>.</p>
</div>
<div class="paragraph">
<p>In HA mode, Redis supports two deployment approaches:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Redis standalone mode</p>
</li>
<li>
<p>Redis high availability mode (Redis HA)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_version_compatibility">2. Version Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KubeSphere HA configuration applies to KubeSphere Enterprise v4.1.2 and later versions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_kubesphere_ha_configuration">3. KubeSphere HA Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_1_enable_ha_mode">3.1 Enable HA Mode</h3>
<div class="paragraph">
<p>Create a <code>values.yaml</code> file with the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">ha:
  enabled: true</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_redis_configuration">4. Redis Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Choose either Redis standalone or Redis HA mode based on requirements, then add the corresponding configuration to the <code>values.yaml</code> file.</p>
</div>
<div class="sect2">
<h3 id="_4_1_redis_standalone_mode">4.1 Redis Standalone Mode</h3>
<div class="paragraph">
<p>Suitable for small clusters with simple configuration and lower resource consumption.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">redis:
  port: 6379
  replicaCount: 1
  image:
    repository: kubesphereio/redis
    tag: 7.2.4-alpine
    pullPolicy: IfNotPresent
  persistentVolume:
    enabled: true
    size: 2Gi</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_2_redis_ha_mode">4.2 Redis HA Mode</h3>
<div class="paragraph">
<p>Designed for production environments with full high availability.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">redisHA:
  enabled: true
  redis:
    port: 6379
  image:
    repository: kubesphereio/redis
    tag: 7.2.4-alpine
    pullPolicy: IfNotPresent
  persistentVolume:
    enabled: true
    size: 2Gi</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_3_redis_ha_advanced_configuration">4.3 Redis HA Advanced Configuration</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">redisHA:
  enabled: true
  # Redis node configuration
  redis:
    port: 6379
  # Persistence configuration
  persistentVolume:
    enabled: true
    size: 2Gi
  # Node affinity
  tolerations:
    - key: node-role.kubernetes.io/master
      effect: NoSchedule
    - key: node-role.kubernetes.io/control-plane
      effect: NoSchedule
    - key: CriticalAddonsOnly
      operator: Exists
  # HA configuration
  hardAntiAffinity: false
  additionalAffinities:
    nodeAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 100
          preference:
            matchExpressions:
              - key: node-role.kubernetes.io/control-plane
                operator: In
                values:
                  - &#34;&#34;
  # HAProxy configuration
  haproxy:
    servicePort: 6379
    containerPort: 6379
    image:
      repository: kubesphereio/haproxy
      tag: 2.9.6-alpine
      pullPolicy: IfNotPresent</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_ha_deployment">5. HA Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When installing or upgrading KubeSphere Enterprise, append <code>-f values.yaml</code> to your command.</p>
</div>
<table class="tableblock frame-all grid-all stretch admon attention">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The following commands are examples only. Always append <code>-f values.yaml</code> to your actual installation/upgrade command.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Installation
helm install -n kubesphere-system --create-namespace ks-core oci://hub.kubesphere.com.cn/kse/ks-core --version 1.1.0 -f values.yaml

# Upgrade
helm upgrade -n kubesphere-system ks-core oci://hub.kubesphere.com.cn/kse/ks-core --version 1.1.0 -f values.yaml</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_configuration_notes">6. Configuration Notes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_6_1_redis_standalone_mode">6.1 Redis Standalone Mode</h3>
<div class="ulist">
<ul>
<li>
<p>Designed for small clusters</p>
</li>
<li>
<p>Uses single Redis instance</p>
</li>
<li>
<p>Supports basic failover</p>
</li>
<li>
<p>Simple configuration with low resource overhead</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_6_2_redis_ha_mode">6.2 Redis HA Mode</h3>
<div class="ulist">
<ul>
<li>
<p>Recommended for production</p>
</li>
<li>
<p>Uses Redis cluster</p>
</li>
<li>
<p>Provides full HA capabilities</p>
</li>
<li>
<p>Supports automatic failover</p>
</li>
<li>
<p>Data persistence</p>
</li>
<li>
<p>Load balancing</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_optional_configurations">7. Optional Configurations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jwt_signing_key_configuration">JWT Signing Key Configuration</h3>
<div class="paragraph">
<p>In high availability environments, configure a custom SignKey to ensure all replicas use the same JWT signing key.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate an RSA private key:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">openssl genrsa -out private_key.pem 2048</code></pre>
</div>
</div>
</li>
<li>
<p>View the Base64-encoded key content:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cat private_key.pem | base64 -w 0</code></pre>
</div>
</div>
</li>
<li>
<p>Edit KubeSphere configuration:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n kubesphere-system edit cm kubesphere-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add or replace the following field under <code>authentication.issuer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">signKeyData: &lt;Base64-encoded-private-key&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Restart KubeSphere components:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">kubectl -n kubesphere-system rollout restart deploy ks-apiserver ks-controller-manager</code></pre>
</div>
</div>
</li>
<li>
<p>Verify configuration: Access <code><a href="http://&lt;ks-console-address&gt;/oauth/keys" class="bare">http://&lt;ks-console-address&gt;/oauth/keys</a></code> multiple times in your browser and verify the data consistency across all replicas.</p>
</li>
</ol>
</div>
</div>
</div>
</div>

    

  </div>
  <div class="post-footer">
    <div class="post-prev">
    </div>
    <div class="post-next">
    </div>
  </div>
  <div class="post-back-to-top">
    <span class="icon-up_3_fill"></span>
  </div>
</div>
<div class="post-placeholder"><div class="post-menu">
  <div class="post-menu-title">Page Catalog</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_1_high_availability_architecture_overview">1. High Availability Architecture Overview</a></li>
    <li><a href="#_2_version_compatibility">2. Version Compatibility</a></li>
    <li><a href="#_3_kubesphere_ha_configuration">3. KubeSphere HA Configuration</a>
      <ul>
        <li><a href="#_3_1_enable_ha_mode">3.1 Enable HA Mode</a></li>
      </ul>
    </li>
    <li><a href="#_4_redis_configuration">4. Redis Configuration</a>
      <ul>
        <li><a href="#_4_1_redis_standalone_mode">4.1 Redis Standalone Mode</a></li>
        <li><a href="#_4_2_redis_ha_mode">4.2 Redis HA Mode</a></li>
        <li><a href="#_4_3_redis_ha_advanced_configuration">4.3 Redis HA Advanced Configuration</a></li>
      </ul>
    </li>
    <li><a href="#_5_ha_deployment">5. HA Deployment</a></li>
    <li><a href="#_6_configuration_notes">6. Configuration Notes</a>
      <ul>
        <li><a href="#_6_1_redis_standalone_mode">6.1 Redis Standalone Mode</a></li>
        <li><a href="#_6_2_redis_ha_mode">6.2 Redis HA Mode</a></li>
      </ul>
    </li>
    <li><a href="#_7_optional_configurations">7. Optional Configurations</a>
      <ul>
        <li><a href="#_jwt_signing_key_configuration">JWT Signing Key Configuration</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div></div>
      </div>
    </div>
  </div>
</div></div>
    </body><script src="/en/js/bootstrap.min.js"></script>
<script src="/en/js/autocomplete/jquery.autocomplete.js"></script>
<script src="/en/js/copy-to-clipboard.js"></script>
<script src="/en/js/highlight.min.js"></script>
<script src="/en/js/jquery.tmpl.min.js"></script>
<script src="/en/js/jquery.magnific-popup.min.js"></script>
<script src="/en/js/search/jquery.mark.min.js"></script>
<script>
  window.HUGO_BASEURL = "\/en";
  window.HUGO_I18N = "{\"applicable_scope\":\"Applicable scope\",\"next\":\"Next\",\"page_catalog\":\"Page Catalog\",\"path\":\"Path\",\"previous\":\"Previous\",\"search_empty\":\"No results found. Please try other keywords.\",\"search_placeholder\":\"Enter keywords for help\",\"study_section\":\"Study Section\",\"update_time\":\"Time updated\",\"view_docs\":\"View docs\"}";
</script>

<script type="text/javascript" src="/en/js/common.fabd21a53168b1eeeb5a5eea37f666342dfe616b67039ea0fe08d0c4ef5390f3423d28b9658e1d491ee6875867d02592c61c2b77975619099214156dcd3e1bc3.js" integrity="sha512-&#43;r0hpTFose7rWl7qN/ZmNC3&#43;YWtnA56g/gjQxO9TkPNCPSi5ZY4dSR7mh1hn0CWSxhwrd5dWGQmSFBVtzT4bww=="></script>


<script type="text/javascript" src="/en/js/client-search/dist/index.43039aa05afec4f5e41ea7babc881477ec1e8f36380984c0f50dca64a37ee0bc5ab775bc65efdf8a77cdfac99eee1264a69a7b4d4b009e05224cca8ed81cf039.js"  integrity="sha512-QwOaoFr&#43;xPXkHqe6vIgUd&#43;wejzY4CYTA9Q3KZKN&#43;4Lxat3W8Ze/finfN&#43;sme7hJkppp7TUsAngUiTMqO2BzwOQ=="></script>

<script>
  $(function() {
    
    hljs.highlightAll();
    
    $.each($('.post-content .imageblock img'), function () {
      $(this).attr('data-mfp-src', $(this).attr('src'));
    });
    $('.post-content').magnificPopup({
      disableOn: function () {
        if ($(window).width() < 600) {
          return false;
        }
        return true;
      },
      delegate: '.imageblock img',
      type: 'image',
      gallery: {
        enabled: true,
      },
    });
  });
</script>
</html>
